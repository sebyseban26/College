{% extends "Admin_dashboard.html" %}
{% block content %}
    <!-- Update Form -->
    <div class="signup-box">
        <h2>Update Details</h2>
        <form action="{% url 'edit' student.id %}" method="POST">
            {% csrf_token %}
            <input type="text" class="signup-input" name="name" placeholder="Name" value="{{ student.studentname }}" required>
            <input type="text" class="signup-input" name="address" placeholder="Address" value="{{ student.address }}" required>
            <input type="number" class="signup-input" name="age" placeholder="Age" value="{{ student.age }}" required>
            <input type="date" class="signup-input" name="date" value="{{ student.joiningdate|date:'Y-m-d' }}" required>

            <select class="drop" name="c" id="c" required>
                {% for c in course %}
                <option value="{{ c.id }}" {% if c.id == student.course.id %}selected{% endif %}>{{ c.coursename }}</option>
                {% endfor %}
            </select>

            <button type="submit" class="signup-button">Update</button>
        </form>
    </div>

    <!-- Script: hide selected course option -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const selectedValue = "{{ student.course.id }}";
            const dropdown = document.getElementById('c');
            for (let option of dropdown.options) {
                if (option.value === selectedValue) {
                    option.style.display = 'none';
                }
            }
        });
    </script>
{% endblock %}